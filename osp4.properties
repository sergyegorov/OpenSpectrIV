####################################################
#
#         НЕ РЕДАКТИРОВАТЬ!!!!!!!!
#
####################################################
# DB Default
DB.COMMON.VERSION.SELECT = SELECT * FROM t_version WHERE type=?
DB.COMMON.VERSION.CREATE = CREATE TABLE t_version (value INTEGER NOT NULL,type VARCHAR(255) NOT NULL,PRIMARY KEY (type))
DB.COMMON.VERSION.INSERT = INSERT INTO t_version VALUES(0,?)
DB.COMMON.VERSION.UPDATE = UPDATE t_version SET value=? WHERE type=?
#-Method
#--Aspects
#---Description
METHOD.ASPECT.DESCRIPTION.CREATE_TABLE = CREATE TABLE t_description (id VARCHAR(128) NOT NULL,value CLOB,PRIMARY KEY(id))
METHOD.ASPECT.DESCRIPTION.SELECT = SELECT value FROM t_description desc WHERE desc.id=?
METHOD.ASPECT.DESCRIPTION.INSERT = INSERT INTO t_description VALUES(?,?)
METHOD.ASPECT.DESCRIPTION.UPDATE = UPDATE t_description SET value=? WHERE id=?
#---Chanel set
METHOD.ASPECT.CHANEL_SET.CREATE_TABLE = CREATE TABLE t_chanels (\
	id INT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) NOT NULL UNIQUE,\
	type VARCHAR(32) NOT NULL,\
	name VARCHAR(255) NOT NULL,\
	ly FLOAT NOT NULL,\
	sn INTEGER,\
	extra_data BLOB NOT NULL)
METHOD.ASPECT.CHANEL_SET.SELECT = SELECT id,type,name,ly,sn,extra_data FROM t_chanels
METHOD.ASPECT.CHANEL_SET.INSERT = INSERT INTO t_chanels (type,name,ly,sn,extra_data) values(?,?,?,?,?)
METHOD.ASPECT.CHANEL_SET.UPDATE = UPDATE t_chanels SET type=?,name=?,ly=?,sn=?,extra_data=? WHERE id=?
#---Calibrations
METHOD.ASPECT.CALIBR.CREATE_TABLE.PROB = CREATE TABLE t_probs (\
			id INT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) NOT NULL UNIQUE,\
			name VARCHAR(128) NOT NULL,\
			standart_src VARCHAR(255) NOT NULL,\
			standart_src_prob VARCHAR(128) NOT NULL)
METHOD.ASPECT.CALIBR.CREATE_TABLE.MEASURING = CREATE TABLE t_measuring (\
			id INT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) NOT NULL UNIQUE,\
			prob_id INT,\
			measuring_date TIMESTAMP,\
			comments VARCHAR(255),\
			CONSTRAINT fk_measuring_prob_id FOREIGN KEY (prob_id) REFERENCES t_probs(id))
METHOD.ASPECT.CALIBR.CREATE_TABLE.FORMULAS = CREATE TABLE t_formulas (\
			id INT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) NOT NULL UNIQUE,\
			formula_name VARCHAR(128) NOT NULL,\
			element VARCHAR(64) NOT NULL,\
			details BLOB,\
			CONSTRAINT fk_formulas_element_formula_unic UNIQUE (element,formula_name))
METHOD.ASPECT.CALIBR.CREATE_TABLE.RESULTS = CREATE TABLE t_results (\
			id INT GENERATED BY DEFAULT AS IDENTITY(START WITH 1, INCREMENT BY 1) NOT NULL UNIQUE,\
			prob_id INT NOT NULL,\
			measuring_id INT,\
			comments VARCHAR(128),\
			con_calc FLOAT,\
			con_real FLOAT,\
			con_error FLOAT,\
			enable BOOLEAN,\
			UNIQUE (prob_id,measuring_id),\
			CONSTRAINT fk_results_prob_id FOREIGN KEY (prob_id) REFERENCES t_probs(id),\
			CONSTRAINT fk_results_measuring_id FOREIGN KEY (measuring_id) REFERENCES t_measuring(id))
METHOD.ASPECT.CALIBR.SELECT.FORMULAS = SELECT id,formula_name,element,details FROM t_formulas ORDER BY element,formula_name
METHOD.ASPECT.CALIBR.INSERT.FORMULAS = INSERT INTO t_formulas (element, formula_name, details) values (?,?,?);
METHOD.ASPECT.CALIBR.UPDATE.FORMULAS = UPDATE t_formulas SET element=?, formula_name=?, details=? WHERE id=?;
METHOD.ASPECT.CALIBR.SELECT.PROB = SELECT id,name,standart_src,standart_src_prob FROM t_probs ORDER BY name
METHOD.ASPECT.CALIBR.INSERT.PROB = INSERT INTO t_probs (name, standart_src, standart_src_prob) values (?,?,?);
METHOD.ASPECT.CALIBR.SELECT.MEASURINGS = SELECT id,measuring_date,comments FROM t_measuring WHERE prob_id=? ORDER BY measuring_date
METHOD.ASPECT.CALIBR.INSERT.MEASURING = INSERT INTO t_measuring (prob_id, measuring_date) values (?,?);
